FROM openjdk:17-jdk-alpine
EXPOSE 8080
ADD ./build/libs/backend-0.0.1-SNAPSHOT.jar /app.jar

ENV DB_DATABASE = ${DB_DATABASE}
ENV DB_HOST = ${DB_HOST}
ENV DB_PASSWORD = ${DB_PASSWORD}
ENV DB_USERNAME = ${DB_USERNAME}
ENV JWT_SECRET = ${JWT_SECRET}
ENV S3_ACCESS_KEY = ${S3_ACCESS_KEY}
ENV S3_BUCKET = ${S3_BUCKET}
ENV S3_SECRET_KEY = ${S3_SECRET_KEY}
ENV GITHUB_SECRET = ${GITHUB_SECRET}
ENV GITHUB_CLIENT_ID = ${GITHUB_CLIENT_ID}
ENV FRONT_URL = ${FRONT_URL}
ENV BACK_URL = ${BACK_URL}
ENV KAFKA_URL = ${KAFK_URL}

CMD java -jar /app.jar